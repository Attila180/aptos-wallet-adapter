(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{23938:function(){},70992:function(t,e,n){"use strict";n.d(e,{AutoConnectProvider:function(){return l},v:function(){return o}});var a=n(3894),s=n(73473);let r="AptosWalletAutoConnect",i=(0,s.createContext)({});function o(){return(0,s.useContext)(i)}let l=t=>{let{children:e}=t,[n,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let t=localStorage.getItem(r);if(t)return o(JSON.parse(t))}catch(t){console.error(t)}},[]),(0,s.useEffect)(()=>{try{n?localStorage.setItem(r,JSON.stringify(n)):localStorage.removeItem(r)}catch(t){console.error(t)}},[n]),(0,a.jsx)(i.Provider,{value:{autoConnect:n,setAutoConnect:o},children:e})}},6523:function(t,e,n){"use strict";n.d(e,{pm:function(){return w}});var a=n(73473);let s=0,r=new Map,i=t=>{if(r.has(t))return;let e=setTimeout(()=>{r.delete(t),u({type:"REMOVE_TOAST",toastId:t})},1e6);r.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?i(n):t.toasts.forEach(t=>{i(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===n||void 0===n?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},l=[],c={toasts:[]};function u(t){c=o(c,t),l.forEach(t=>{t(c)})}function d(t){let{...e}=t,n=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:n});return u({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:t=>{t||a()}}}),{id:n,dismiss:a,update:t=>u({type:"UPDATE_TOAST",toast:{...t,id:n}})}}function w(){let[t,e]=a.useState(c);return a.useEffect(()=>(l.push(e),()=>{let t=l.indexOf(e);t>-1&&l.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>u({type:"DISMISS_TOAST",toastId:t})}}},2129:function(t,e,n){"use strict";n.d(e,{cn:function(){return r}});var a=n(81185),s=n(88983);function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.m6)((0,a.W)(e))}},66802:function(t,e,n){"use strict";n.d(e,{Tt:function(){return G},V8:function(){return K},cU:function(){return O},cX:function(){return z},i1:function(){return g},od:function(){return b}});var a,s,r=n(2375),i=n(89492),o=n(86969),l=n(83520),c=n(24890),u=n(25001),d=n(64394),w=n(60335),h="4.7.0",g=((a=g||{}).Installed="Installed",a.NotDetected="NotDetected",a.Loadable="Loadable",a.Unsupported="Unsupported",a),m=((s=m||{}).Mainnet="mainnet",s.Testnet="testnet",s.Devnet="devnet",s),f={1:"mainnet",2:"testnet"},y=class extends Error{constructor(t,e){super(t),this.error=e}},p=class extends y{constructor(){super(...arguments),this.name="WalletNotSelectedError"}},N=class extends y{constructor(){super(...arguments),this.name="WalletNotReadyError"}},M=class extends y{constructor(){super(...arguments),this.name="WalletConnectionError"}},S=class extends y{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},_=class extends y{constructor(){super(...arguments),this.name="WalletAccountError"}},T=class extends y{constructor(){super(...arguments),this.name="WalletGetNetworkError"}},A=class extends y{constructor(){super(...arguments),this.name="WalletAccountChangeError"}},C=class extends y{constructor(){super(...arguments),this.name="WalletNetworkChangeError"}},v=class extends y{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},I=class extends y{constructor(){super(...arguments),this.name="WalletSignMessageError"}},E=class extends y{constructor(){super(...arguments),this.name="WalletSignMessageAndVerifyError"}},L=class extends y{constructor(){super(...arguments),this.name="WalletSignAndSubmitMessageError"}},x=class extends y{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},k=class extends y{constructor(){super(...arguments),this.name="WalletNotSupportedMethod"}},j=class extends y{constructor(){super(...arguments),this.name="WalletChangeNetworkError"}};function D(t){switch(null==t?void 0:t.name){case"mainnet":return i.ZcK.MAINNET;case"testnet":return i.ZcK.TESTNET;case"devnet":return i.ZcK.DEVNET;case"local":return i.ZcK.LOCAL;default:throw Error("Invalid Aptos network name")}}async function W(t,e){if("function"in e){let n={function:e.function,functionArguments:e.arguments,typeArguments:e.type_arguments};return(0,i.yDq)({...n,aptosConfig:t})}throw Error("Payload type not supported")}var b="https://aptosconnect.app/dashboard/main-account";function O(t){return t.url.startsWith("https://aptosconnect.app")}function z(){return!!("undefined"!=typeof navigator&&navigator)&&/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)&&!function(){let t=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),e=/(Android).*Version\/[\d.]+.*Chrome\/[^\s]+ Mobile/i.test(navigator.userAgent);return t||e}()}function P(t){return"object"==typeof t&&"message"in t?t.message:t}var U=t=>0!==t.length&&t.every(t=>t instanceof i.iVQ),Q=t=>{if(!t)throw Error("Undefined network");return new i.ScN(G(t)?{network:D(t)}:{network:i.ZcK.CUSTOM,fullnode:t.url})},G=t=>{if(!t)throw Error("Undefined network");return void 0!==i.sAp[t.name]},J=async()=>{let t=new i.gZG;return await t.getChainId()},V="AptosWalletName",B=class extends o{async connect(t){return await t.connect()}async resolveSignAndSubmitTransaction(t,e,n,a){var s,o,l,c,u,d,w,h;if(U(t.functionArguments)){let u=Q(e),d=function(t){let e=new r.Ce.Deserializer(t.bcsToBytes());return r.Kj.TransactionPayload.deserialize(e)}(await (0,i.yDq)({...t,aptosConfig:u}));return await this.signAndSubmitBCSTransaction(d,n,{max_gas_amount:(null==(s=a.options)?void 0:s.maxGasAmount)?BigInt(null==(o=a.options)?void 0:o.maxGasAmount):void 0,gas_unit_price:(null==(l=a.options)?void 0:l.gasUnitPrice)?BigInt(null==(c=a.options)?void 0:c.gasUnitPrice):void 0})}let g=function(t){var e,n;if("bytecode"in t)throw Error("script payload not supported");if("multisigAddress"in t){let n=null==(e=t.typeArguments)?void 0:e.map(t=>t instanceof i.O$S?t.toString():t);return{type:"multisig_payload",multisig_address:t.multisigAddress.toString(),function:t.function,type_arguments:n||[],arguments:t.functionArguments}}{let e=null==(n=t.typeArguments)?void 0:n.map(t=>t instanceof i.O$S?t.toString():t);return{type:"entry_function_payload",function:t.function,type_arguments:e||[],arguments:t.functionArguments}}}(t);return await this.signAndSubmitTransaction(g,n,{max_gas_amount:(null==(u=a.options)?void 0:u.maxGasAmount)?BigInt(null==(d=a.options)?void 0:d.maxGasAmount):void 0,gas_unit_price:(null==(w=a.options)?void 0:w.gasUnitPrice)?BigInt(null==(h=a.options)?void 0:h.gasUnitPrice):void 0})}async signAndSubmitTransaction(t,e,n){try{return await e.signAndSubmitTransaction(t,n)}catch(t){throw new L("object"==typeof t&&"message"in t?t.message:t).message}}async signAndSubmitBCSTransaction(t,e,n){if(!("signAndSubmitBCSTransaction"in e))throw new k("Submit a BCS Transaction is not supported by ".concat(e.name)).message;try{return await e.signAndSubmitBCSTransaction(t,n)}catch(t){throw new L("object"==typeof t&&"message"in t?t.message:t).message}}async signTransaction(t,e,n){try{return await e.signTransaction(t,n)}catch(t){throw new x("object"==typeof t&&"message"in t?t.message:t).message}}async signMessageAndVerify(t,e,n){try{let a=await e.signMessage(t);if(!a)throw new E("Failed to sign a message").message;console.log("signMessageAndVerify signMessage response",a);let s=!1;if(Array.isArray(a.signature)){let{fullMessage:t,signature:e,bitmap:r}=a;if(r){let a=n.minKeysRequired;if(e.length<a)s=!1;else{let a=Array.from(r).flatMap(t=>Array.from({length:8}).map((e,n)=>t>>n&1)),i=a.map((t,e)=>e).filter(t=>a[t]),o=n.publicKey.filter((t,e)=>i.includes(e));s=!0;for(let n=0;n<e.length;n++)if(!w.sign.detached.verify(d.lW.from(t),d.lW.from(e[n],"hex"),d.lW.from(o[n],"hex"))){s=!1;break}}}else throw new E("Failed to get a bitmap").message}else{let t=new r.i8(n.publicKey),e=new r.i8(a.signature);s=w.sign.detached.verify(d.lW.from(a.fullMessage),d.lW.from(e.noPrefix(),"hex"),d.lW.from(t.noPrefix(),"hex"))}return s}catch(t){throw new E(P(t)).message}}},R=class{async connect(t){let e=await t.connect();if(e.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return e.args}async signAndSubmitTransaction(t,e,n,a,s){var r,i,o;try{let c=s.find(t=>a.name===t.name);if((null==(r=null==c?void 0:c.features["aptos:signAndSubmitTransaction"])?void 0:r.version)!=="1.1.0"){let s=await e.transaction.build.simple({sender:n.address.toString(),data:t.data,options:t.options}),r=await a.signAndSubmitTransaction(s);if(r.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return r.args}let u={gasUnitPrice:null==(i=t.options)?void 0:i.gasUnitPrice,maxGasAmount:null==(o=t.options)?void 0:o.maxGasAmount,payload:t.data},d=await a.signAndSubmitTransaction(u);if(d.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return d.args}catch(t){throw new L(P(t)).message}}async signTransaction(t,e,n){let a=await e.signTransaction(t,n);if(a.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return a.args}async signMessage(t,e){try{let n=await e.signMessage(t);if(n.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return n.args}catch(t){throw new I(P(t)).message}}async signMessageAndVerify(t,e){try{let n=await e.signMessage(t),a=await e.account();if(n.status===l.qk.REJECTED)throw new M("Failed to sign a message").message;let s=!1;if(n.args.signature instanceof i.e6E){if(!(a.publicKey instanceof i.ZSy))throw new E("Public key and Signature type mismatch").message;let{fullMessage:t,signature:e}=n.args;if(e.bitmap){let n=a.publicKey.threshold;s=!(e.signatures.length<n)&&a.publicKey.verifySignature({message:new TextEncoder().encode(t),signature:e})}}else s=a.publicKey.verifySignature({message:new TextEncoder().encode(n.args.fullMessage),signature:n.args.signature});return s}catch(t){throw new E(P(t)).message}}},Y=class{gtag(t,e,n){(window.dataLayer||[]).push(arguments)}injectGA(t){if(!t)return;let e=document.getElementsByTagName("head")[0];var n=document.createElement("script");n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(t));let a=this;n.onload=function(){a.gtag("js",new Date),a.gtag("config","".concat(t),{send_page_view:!1})},e.insertBefore(n,e.children[1])}constructor(){this.aptosGAID="G-GNVVWBL3J9",this.injectGA(this.aptosGAID)}},Z=[{name:"Nightly",url:"https://chromewebstore.google.com/detail/nightly/fiikommddbeccaoicoejoniammnalkfa?hl=en",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iV2Fyc3R3YV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDg1MS41IDg1MS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4NTEuNSA4NTEuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzYwNjdGOTt9DQoJLnN0MXtmaWxsOiNGN0Y3Rjc7fQ0KPC9zdHlsZT4NCjxnPg0KCTxnIGlkPSJXYXJzdHdhXzJfMDAwMDAwMTQ2MDk2NTQyNTMxODA5NDY0NjAwMDAwMDg2NDc4NTIwMDIxMTY5MTg2ODhfIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNCwwaDYwMy42YzY4LjUsMCwxMjQsNTUuNSwxMjQsMTI0djYwMy42YzAsNjguNS01NS41LDEyNC0xMjQsMTI0SDEyNGMtNjguNSwwLTEyNC01NS41LTEyNC0xMjRWMTI0DQoJCQlDMCw1NS41LDU1LjUsMCwxMjQsMHoiLz4NCgk8L2c+DQoJPGcgaWQ9IldhcnN0d2FfMyI+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MjMuNSwxNzAuM2MtMzcuNCw1Mi4yLTg0LjIsODguNC0xMzkuNSwxMTIuNmMtMTkuMi01LjMtMzguOS04LTU4LjMtNy44Yy0xOS40LTAuMi0zOS4xLDIuNi01OC4zLDcuOA0KCQkJYy01NS4zLTI0LjMtMTAyLjEtNjAuMy0xMzkuNS0xMTIuNmMtMTEuMywyOC40LTU0LjgsMTI2LjQtMi42LDI2My40YzAsMC0xNi43LDcxLjUsMTQsMTMyLjljMCwwLDQ0LjQtMjAuMSw3OS43LDguMg0KCQkJYzM2LjksMjkuOSwyNS4xLDU4LjcsNTEuMSw4My41YzIyLjQsMjIuOSw1NS43LDIyLjksNTUuNywyMi45czMzLjMsMCw1NS43LTIyLjhjMjYtMjQuNywxNC4zLTUzLjUsNTEuMS04My41DQoJCQljMzUuMi0yOC4zLDc5LjctOC4yLDc5LjctOC4yYzMwLjYtNjEuNCwxNC0xMzIuOSwxNC0xMzIuOUM2NzguMywyOTYuNyw2MzQuOSwxOTguNyw2MjMuNSwxNzAuM3ogTTI1My4xLDQxNC44DQoJCQljLTI4LjQtNTguMy0zNi4yLTEzOC4zLTE4LjMtMjAxLjVjMjMuNyw2MCw1NS45LDg2LjksOTQuMiwxMTUuM0MzMTIuOCwzNjIuMywyODIuMywzOTQuMSwyNTMuMSw0MTQuOHogTTMzNC44LDUxNy41DQoJCQljLTIyLjQtOS45LTI3LjEtMjkuNC0yNy4xLTI5LjRjMzAuNS0xOS4yLDc1LjQtNC41LDc2LjgsNDAuOUMzNjAuOSw1MTQuNywzNTMsNTI1LjQsMzM0LjgsNTE3LjV6IE00MjUuNyw2NzguNw0KCQkJYy0xNiwwLTI5LTExLjUtMjktMjUuNnMxMy0yNS42LDI5LTI1LjZzMjksMTEuNSwyOSwyNS42QzQ1NC43LDY2Ny4zLDQ0MS43LDY3OC43LDQyNS43LDY3OC43eiBNNTE2LjcsNTE3LjUNCgkJCWMtMTguMiw4LTI2LTIuOC00OS43LDExLjVjMS41LTQ1LjQsNDYuMi02MC4xLDc2LjgtNDAuOUM1NDMuOCw0ODgsNTM5LDUwNy42LDUxNi43LDUxNy41eiBNNTk4LjMsNDE0LjgNCgkJCWMtMjkuMS0yMC43LTU5LjctNTIuNC03Ni04Ni4yYzM4LjMtMjguNCw3MC42LTU1LjQsOTQuMi0xMTUuM0M2MzQuNiwyNzYuNSw2MjYuOCwzNTYuNiw1OTguMyw0MTQuOHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==",readyState:"NotDetected",isAIP62Standard:!0}],K=class extends o{scopePollingDetectionStrategy(){var t;null==(t=this._wallets)||t.forEach(t=>{this._all_wallets.push(t),t.readyState||(t.readyState="undefined"==typeof document?"Unsupported":"NotDetected"),function(t){if("undefined"==typeof document)return;let e=[];function n(){if(t())for(let t of e)t()}let a=setInterval(n,1e3);e.push(()=>clearInterval(a)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}(()=>{let e=t.providerName||t.name.toLowerCase();return!!Object.keys(window).includes(e)&&(t.readyState="Installed",t.provider=window[e],this.emit("readyStateChange",t),!0)})})}fetchAptosWallets(){let{aptosWallets:t,on:e}=(0,l.Wk)();this.setWallets(t);let n=this;e("register",function(){let{aptosWallets:t}=(0,l.Wk)();n.setWallets(t)}),e("unregister",function(){let{aptosWallets:t}=(0,l.Wk)();n.setWallets(t)})}appendNotDetectedStandardSupportedWallets(t){Z.map(e=>{this.excludeWallet(e.name)||-1!==t.findIndex(t=>t.name==e.name)||(this._all_wallets.push(e),this.emit("standardWalletsAdded",e))})}setWallets(t){let e=[];[...this._sdkWallets,...t].map(t=>{!this.excludeWallet(t.name)&&(0,l.cE)(t)&&(t.readyState="Installed",e.push(t),this.standardizeStandardWalletToPluginWalletType(t))}),this._standard_wallets=e,this.appendNotDetectedStandardSupportedWallets(this._standard_wallets)}excludeWallet(t){return"Google (AptosConnect)"!==t&&this._optInWallets.length>0&&!this._optInWallets.includes(t)}recordEvent(t,e){var n,a,s;this.ga4.gtag("event","wallet_adapter_".concat(t),{wallet:null==(n=this._wallet)?void 0:n.name,network:null==(a=this._network)?void 0:a.name,network_url:null==(s=this._network)?void 0:s.url,adapter_core_version:h,send_to:"G-GNVVWBL3J9",...e})}ensureWalletExists(t){if(!t)throw new v().name;if(!("Loadable"===t.readyState||"Installed"===t.readyState))throw new N("Wallet is not set").name}ensureAccountExists(t){if(!t)throw new _("Account is not set").name}doesWalletExist(){if(!this._connected||this._connecting||!this._wallet)throw new v().name;if(!("Loadable"===this._wallet.readyState||"Installed"===this._wallet.readyState))throw new N().name;return!0}clearData(){this._connected=!1,this.setWallet(null),this.setAccount(null),this.setNetwork(null),localStorage.removeItem(V)}async setAnsName(){var t;if((null==(t=this._network)?void 0:t.chainId)&&this._account){if(!f[this._network.chainId]||!G(this._network)){this._account.ansName=void 0;return}let t=new i.ScN({network:D(this._network)}),e=new i.gZG(t),n=await e.ans.getPrimaryName({address:this._account.address.toString()});this._account.ansName=n}}setWallet(t){this._wallet=t}setAccount(t){var e;if(null===t){this._account=null;return}if(null==(e=this._wallet)?void 0:e.isAIP62Standard){if("status"in t){if(t.status===l.qk.REJECTED)throw this._connecting=!1,new M("User has rejected the request").message;this._account={address:t.args.address.toString(),publicKey:t.args.publicKey.toString(),ansName:t.args.ansName};return}this._account={address:t.address.toString(),publicKey:t.publicKey.toString(),ansName:t.ansName};return}this._account={...t}}setNetwork(t){var e,n,a;if(null===t){this._network=null;return}if(null==(e=this._wallet)?void 0:e.isAIP62Standard){this.recordEvent("network_change",{from:null==(n=this._network)?void 0:n.name,to:t.name}),this._network={name:t.name.toLowerCase(),chainId:t.chainId.toString(),url:t.url};return}this.recordEvent("network_change",{from:null==(a=this._network)?void 0:a.name,to:t.name}),this._network={...t,name:t.name.toLowerCase()}}isConnected(){return this._connected}get wallets(){return this._all_wallets}get pluginWallets(){return this._wallets}get standardWallets(){return this._standard_wallets}get wallet(){try{if(!this._wallet)return null;return{name:this._wallet.name,icon:this._wallet.icon,url:this._wallet.url}}catch(t){throw new p(t).message}}get account(){try{return this._account}catch(t){throw new _(t).message}}get network(){try{return this._network}catch(t){throw new T(t).message}}async connect(t){var e;let n=this._all_wallets.find(e=>e.name===t);if(n){if(this._connected&&(null==(e=this._wallet)?void 0:e.name)===t)throw new M("".concat(t," wallet is already connected")).message;if(z()&&"Installed"!==n.readyState){if(n.isAIP62Standard&&n.openInMobileApp){n.openInMobileApp();return}if(n.deeplinkProvider){let t=encodeURIComponent(window.location.href),e=n.deeplinkProvider({url:t});window.location.href=e}return}if("Installed"!==n.readyState&&"Loadable"!==n.readyState)return;await this.connectWallet(n)}}async connectWallet(t){try{var e;let n;this._connecting=!0,this.setWallet(t),n=t.isAIP62Standard?await this.walletStandardCore.connect(t):await this.walletCoreV1.connect(t),this.setAccount(n);let a=await t.network();this.setNetwork(a),await this.setAnsName(),e=t.name,localStorage.setItem(V,e),this._connected=!0,this.recordEvent("wallet_connect"),this.emit("connect",n)}catch(t){throw this.clearData(),new M(P(t)).message}finally{this._connecting=!1}}async disconnect(){try{this.ensureWalletExists(this._wallet),await this._wallet.disconnect(),this.clearData(),this.recordEvent("wallet_disconnect"),this.emit("disconnect")}catch(t){throw new S(P(t)).message}}async signAndSubmitTransaction(t){try{if("function"in t.data&&"0x1::account::rotate_authentication_key_call"===t.data.function)throw new L("SCAM SITE DETECTED").message;this.ensureWalletExists(this._wallet),this.ensureAccountExists(this._account),this.recordEvent("sign_and_submit_transaction");let e=t.data,n=Q(this._network),a=new i.gZG(n);if(this._wallet.signAndSubmitTransaction){if(this._wallet.isAIP62Standard){let{hash:e,...n}=await this.walletStandardCore.signAndSubmitTransaction(t,a,this._account,this._wallet,this._standard_wallets);return{hash:e,output:n}}{let{hash:n,...a}=await this.walletCoreV1.resolveSignAndSubmitTransaction(e,this._network,this._wallet,t);return{hash:n,output:a}}}let s=await a.transaction.build.simple({sender:this._account.address,data:t.data,options:t.options}),r=await this.signTransaction(s);return await this.submitTransaction({transaction:s,senderAuthenticator:r})}catch(t){throw new L(P(t)).message}}async signTransaction(t,e,n){var a,s,o,l;try{if(this.ensureWalletExists(this._wallet),this.recordEvent("sign_transaction"),this._wallet.signTransaction){if(this._wallet.isAIP62Standard){if("rawTransaction"in t)return await this.walletStandardCore.signTransaction(t,this._wallet,e);{let e=Q(this._network);this.ensureAccountExists(this._account);let r=this._account.address,l=await W(e,t),c={accountSequenceNumber:null==n?void 0:n.sequenceNumber,expireTimestamp:null!=(a=null==n?void 0:n.expireTimestamp)?a:null==n?void 0:n.expirationTimestamp,gasUnitPrice:null!=(s=null==n?void 0:n.gasUnitPrice)?s:null==n?void 0:n.gas_unit_price,maxGasAmount:null!=(o=null==n?void 0:n.maxGasAmount)?o:null==n?void 0:n.max_gas_amount},u=await (0,i.VPS)({aptosConfig:e,payload:l,sender:r,options:c});return await this.walletStandardCore.signTransaction(new i._tO(u),this._wallet,!1)}}if("rawTransaction"in t)return await this._wallet.signTransaction(t,e);{let e=await this.walletCoreV1.signTransaction(t,this._wallet,{max_gas_amount:(null==n?void 0:n.maxGasAmount)?BigInt(null==n?void 0:n.maxGasAmount):void 0,gas_unit_price:(null==n?void 0:n.gasUnitPrice)?BigInt(null==n?void 0:n.gasUnitPrice):void 0});if(!e)throw Error("error");let a=new r.Ce.Deserializer(e),s=r.Kj.SignedTransaction.deserialize(a).authenticator,o=s.public_key.value,l=s.signature.value;return new i.rEE(new i.EZS(o),new i.AoU(l))}}throw new k("Sign Transaction is not supported by ".concat(null==(l=this.wallet)?void 0:l.name)).message}catch(t){throw new x(P(t)).message}}async signMessage(t){try{if(this.ensureWalletExists(this._wallet),this.recordEvent("sign_message"),this._wallet.isAIP62Standard)return await this.walletStandardCore.signMessage(t,this._wallet);return await this._wallet.signMessage(t)}catch(t){throw new I(P(t)).message}}async submitTransaction(t){try{this.ensureWalletExists(this._wallet);let{additionalSignersAuthenticators:e}=t;if(this.recordEvent("submit_transaction",{transaction_type:void 0!==e?"multi-agent":"simple"}),this._wallet.submitTransaction)return await this._wallet.submitTransaction(t);let n=new i.ScN({network:D(this.network)}),a=new i.gZG(n);if(void 0===e)return a.transaction.submit.simple(t);{let n={...t,additionalSignersAuthenticators:e};return a.transaction.submit.multiAgent(n)}}catch(t){throw new x(P(t)).message}}async onAccountChange(){try{this.ensureWalletExists(this._wallet),await this._wallet.onAccountChange(async t=>{this.setAccount(t),await this.setAnsName(),this.recordEvent("account_change"),this.emit("accountChange",this._account)})}catch(t){throw new A(P(t)).message}}async onNetworkChange(){try{this.ensureWalletExists(this._wallet),await this._wallet.onNetworkChange(async t=>{this.setNetwork(t),await this.setAnsName(),this.emit("networkChange",this._network)})}catch(t){throw new C(P(t)).message}}async changeNetwork(t){var e;try{this.ensureWalletExists(this._wallet),this.recordEvent("change_network_request",{from:null==(e=this._network)?void 0:e.name,to:t});let n=t===i.ZcK.DEVNET?await J():i.mdu[t];if(this._wallet.changeNetwork){let e=await this._wallet.changeNetwork({name:t,chainId:n});if(e.status===l.qk.REJECTED)throw new M("User has rejected the request").message;return e.args}throw new j("".concat(this._wallet.name," does not support changing network request")).message}catch(t){throw new j(P(t)).message}}async signMessageAndVerify(t){try{if(this.ensureWalletExists(this._wallet),this.ensureAccountExists(this._account),this.recordEvent("sign_message_and_verify"),this._wallet.isAIP62Standard)return this.walletStandardCore.signMessageAndVerify(t,this._wallet);return await this.walletCoreV1.signMessageAndVerify(t,this._wallet,this._account)}catch(t){throw new E(P(t)).message}}constructor(t,e,n){super(),this._wallets=[],this._optInWallets=[],this._standard_wallets=[],this._all_wallets=[],this._wallet=null,this._account=null,this._network=null,this.walletCoreV1=new B,this.walletStandardCore=new R,this._connecting=!1,this._connected=!1,this.ga4=new Y,this.standardizeStandardWalletToPluginWalletType=t=>{var e,n,a;let s={name:t.name,url:t.url,icon:t.icon,provider:t,connect:t.features["aptos:connect"].connect,disconnect:t.features["aptos:disconnect"].disconnect,network:t.features["aptos:network"].network,account:t.features["aptos:account"].account,signAndSubmitTransaction:null==(e=t.features["aptos:signAndSubmitTransaction"])?void 0:e.signAndSubmitTransaction,signMessage:t.features["aptos:signMessage"].signMessage,onAccountChange:t.features["aptos:onAccountChange"].onAccountChange,onNetworkChange:t.features["aptos:onNetworkChange"].onNetworkChange,signTransaction:t.features["aptos:signTransaction"].signTransaction,openInMobileApp:null==(n=t.features["aptos:openInMobileApp"])?void 0:n.openInMobileApp,changeNetwork:null==(a=t.features["aptos:changeNetwork"])?void 0:a.changeNetwork,readyState:"Installed",isAIP62Standard:!0};this._all_wallets=this._all_wallets.filter(t=>t.name!==s.name),this._all_wallets.push(s),this.emit("standardWalletsAdded",s)},this._wallets=t,this._optInWallets=e,this._dappConfig=n,this._sdkWallets=function(t){let e=[];return(null==t?void 0:t.network)===i.ZcK.MAINNET?e.push(new c.kJ):e.push(new c.f1),e.push(new u.ux({network:null==t?void 0:t.network})),e}(this._dappConfig),this.scopePollingDetectionStrategy(),this.fetchAptosWallets()}};window.WALLET_ADAPTER_CORE_VERSION=h},14563:function(t,e,n){"use strict";n.d(e,{Ay:function(){return y},FP:function(){return _},Jd:function(){return p},O8:function(){return M},Os:function(){return l},Tt:function(){return a.Tt},Z3:function(){return m},cU:function(){return a.cU},cX:function(){return a.cX},i1:function(){return a.i1},od:function(){return a.od},vV:function(){return S}});var a=n(66802),s=n(27294),r=n(73473),i=n(3894),o=(0,r.createContext)({connected:!1});function l(){let t=(0,r.useContext)(o);if(!t)throw Error("useWallet must be used within a WalletContextState");return t}var c=(0,r.createContext)(null),u=(0,r.forwardRef)((t,e)=>{let{wallet:n,onConnect:o,className:u,asChild:d,children:w}=t,{connect:h}=l(),g=(0,r.useCallback)(()=>{h(n.name),null==o||o()},[h,n.name,o]),m=n.readyState===a.i1.Installed||n.readyState===a.i1.Loadable,f="deeplinkProvider"in n&&n.deeplinkProvider;if(!m&&(0,a.cX)()&&!f)return null;let y=d?s.g7:"div";return(0,i.jsx)(c.Provider,{value:{wallet:n,connectWallet:g},children:(0,i.jsx)(y,{ref:e,className:u,children:w})})});u.displayName="WalletItem";var d=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.Icon` must be used within `WalletItem`");let u=a?s.g7:"img";return(0,i.jsx)(u,{ref:e,src:l.wallet.icon,alt:"".concat(l.wallet.name," icon"),className:n,children:o})});d.displayName="WalletItem.Icon";var w=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.Name` must be used within `WalletItem`");let u=a?s.g7:"div";return(0,i.jsx)(u,{ref:e,className:n,children:null!=o?o:l.wallet.name})});w.displayName="WalletItem.Name";var h=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.ConnectButton` must be used within `WalletItem`");let u=a?s.g7:"button";return(0,i.jsx)(u,{ref:e,className:n,onClick:l.connectWallet,children:null!=o?o:"Connect"})});h.displayName="WalletItem.ConnectButton";var g=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.InstallLink` must be used within `WalletItem`");let u=a?s.g7:"a";return(0,i.jsx)(u,{ref:e,className:n,href:l.wallet.url,target:"_blank",rel:"noopener noreferrer",children:null!=o?o:"Install"})});g.displayName="WalletItem.InstallLink";var m=Object.assign(u,{Icon:d,Name:w,ConnectButton:h,InstallLink:g}),f={connected:!1,account:null,network:null,wallet:null},y=t=>{let{children:e,plugins:n,optInWallets:s,autoConnect:l=!1,dappConfig:c,onError:u}=t,[{connected:d,account:w,network:h,wallet:g},m]=(0,r.useState)(f),[y,p]=(0,r.useState)(!0),N=(0,r.useMemo)(()=>new a.V8(null!=n?n:[],null!=s?s:[],c),[]),[M,S]=(0,r.useState)(N.wallets),_=async t=>{try{p(!0),await N.connect(t)}catch(t){return u&&u(t),Promise.reject(t)}finally{p(!1)}},T=async()=>{try{await N.disconnect()}catch(t){return u&&u(t),Promise.reject(t)}},A=async(t,e,n)=>{try{return await N.signTransaction(t,e,n)}catch(t){return u&&u(t),Promise.reject(t)}},C=async t=>{try{return await N.signMessage(t)}catch(t){return u&&u(t),Promise.reject(t)}},v=async t=>{try{return await N.signMessageAndVerify(t)}catch(t){return u&&u(t),Promise.reject(t)}},I=async t=>{try{return await N.submitTransaction(t)}catch(t){return u&&u(t),Promise.reject(t)}},E=async t=>{try{return await N.signAndSubmitTransaction(t)}catch(t){return u&&u(t),Promise.reject(t)}},L=async t=>{try{return await N.changeNetwork(t)}catch(t){return u&&u(t),Promise.reject(t)}};(0,r.useEffect)(()=>{l&&(localStorage.getItem("AptosWalletName")&&!d?_(localStorage.getItem("AptosWalletName")):p(!1))},[l,M]),(0,r.useEffect)(()=>{d&&(N.onAccountChange(),N.onNetworkChange())},[d]);let x=()=>{m(t=>({...t,connected:!0,account:N.account,network:N.network,wallet:N.wallet}))},k=()=>{d&&m(t=>({...t,connected:!1,account:N.account,network:N.network,wallet:null}))},j=(0,r.useCallback)(()=>{d&&N.wallet&&m(t=>({...t,account:N.account}))},[d]),D=(0,r.useCallback)(()=>{d&&N.wallet&&m(t=>({...t,network:N.network}))},[d]),W=t=>{S(null==M?void 0:M.map(e=>e.name===t.name?{...e,readyState:t.readyState}:e))},b=t=>{let e=M.findIndex(e=>e.name==t.name);-1!==e?S(n=>[...n.slice(0,e),t,...n.slice(e+1)]):S(e=>[...e,t])};return(0,r.useEffect)(()=>(N.on("connect",x),N.on("disconnect",k),N.on("accountChange",j),N.on("networkChange",D),N.on("readyStateChange",W),N.on("standardWalletsAdded",b),()=>{N.off("connect",x),N.off("disconnect",k),N.off("accountChange",j),N.off("networkChange",D),N.off("readyStateChange",W),N.off("standardWalletsAdded",b)}),[M,d]),(0,i.jsx)(o.Provider,{value:{connect:_,account:w,network:h,connected:d,disconnect:T,wallet:g,wallets:M,signAndSubmitTransaction:E,signTransaction:A,signMessage:C,signMessageAndVerify:v,isLoading:y,submitTransaction:I,changeNetwork:L},children:e})};function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=[],a=[];for(let s of t)e(s)?n.push(s):a.push(s);return{defaultWallets:n,moreWallets:a}}function N(t){return t.readyState===a.i1.Installed||t.readyState===a.i1.Loadable}function M(t){let{defaultWallets:e,moreWallets:n}=p(t,t=>t.url.includes("aptosconnect.app"));return{aptosConnectWallets:e,otherWallets:n}}function S(t){let e=N(t);return!(!e&&(0,a.cX)())&&!e}function _(t){if(t)return"".concat(t.slice(0,6),"...").concat(t.slice(-5))}}}]);