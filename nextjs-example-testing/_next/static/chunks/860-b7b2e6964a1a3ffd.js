(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{23938:function(){},70992:function(t,e,n){"use strict";n.d(e,{AutoConnectProvider:function(){return l},v:function(){return o}});var a=n(3894),s=n(73473);let r="AptosWalletAutoConnect",i=(0,s.createContext)({});function o(){return(0,s.useContext)(i)}let l=t=>{let{children:e}=t,[n,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let t=localStorage.getItem(r);if(t)return o(JSON.parse(t))}catch(t){console.error(t)}},[]),(0,s.useEffect)(()=>{try{n?localStorage.setItem(r,JSON.stringify(n)):localStorage.removeItem(r)}catch(t){console.error(t)}},[n]),(0,a.jsx)(i.Provider,{value:{autoConnect:n,setAutoConnect:o},children:e})}},6523:function(t,e,n){"use strict";n.d(e,{pm:function(){return w}});var a=n(73473);let s=0,r=new Map,i=t=>{if(r.has(t))return;let e=setTimeout(()=>{r.delete(t),u({type:"REMOVE_TOAST",toastId:t})},1e6);r.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?i(n):t.toasts.forEach(t=>{i(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===n||void 0===n?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},l=[],c={toasts:[]};function u(t){c=o(c,t),l.forEach(t=>{t(c)})}function d(t){let{...e}=t,n=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:n});return u({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:t=>{t||a()}}}),{id:n,dismiss:a,update:t=>u({type:"UPDATE_TOAST",toast:{...t,id:n}})}}function w(){let[t,e]=a.useState(c);return a.useEffect(()=>(l.push(e),()=>{let t=l.indexOf(e);t>-1&&l.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>u({type:"DISMISS_TOAST",toastId:t})}}},2129:function(t,e,n){"use strict";n.d(e,{cn:function(){return r}});var a=n(81185),s=n(88983);function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.m6)((0,a.W)(e))}},66802:function(t,e,n){"use strict";n.d(e,{Tt:function(){return B},V8:function(){return H},cU:function(){return P},cX:function(){return z},i1:function(){return g},od:function(){return b}});var a,s,r=n(2375),i=n(89492),o=n(86969),l=n(83520),c=n(24890),u=n(25001),d=n(64394),w=n(60335),h="4.7.0",g=((a=g||{}).Installed="Installed",a.NotDetected="NotDetected",a.Loadable="Loadable",a.Unsupported="Unsupported",a),m=((s=m||{}).Mainnet="mainnet",s.Testnet="testnet",s.Devnet="devnet",s),A={1:"mainnet",2:"testnet"},f=class extends Error{constructor(t,e){super(t),this.error=e}},y=class extends f{constructor(){super(...arguments),this.name="WalletNotSelectedError"}},p=class extends f{constructor(){super(...arguments),this.name="WalletNotReadyError"}},v=class extends f{constructor(){super(...arguments),this.name="WalletConnectionError"}},S=class extends f{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},N=class extends f{constructor(){super(...arguments),this.name="WalletAccountError"}},M=class extends f{constructor(){super(...arguments),this.name="WalletGetNetworkError"}},C=class extends f{constructor(){super(...arguments),this.name="WalletAccountChangeError"}},T=class extends f{constructor(){super(...arguments),this.name="WalletNetworkChangeError"}},I=class extends f{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},_=class extends f{constructor(){super(...arguments),this.name="WalletSignMessageError"}},E=class extends f{constructor(){super(...arguments),this.name="WalletSignMessageAndVerifyError"}},x=class extends f{constructor(){super(...arguments),this.name="WalletSignAndSubmitMessageError"}},L=class extends f{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},k=class extends f{constructor(){super(...arguments),this.name="WalletNotSupportedMethod"}},j=class extends f{constructor(){super(...arguments),this.name="WalletChangeNetworkError"}};function W(t){switch(null==t?void 0:t.name){case"mainnet":return i.ZcK.MAINNET;case"testnet":return i.ZcK.TESTNET;case"devnet":return i.ZcK.DEVNET;case"local":return i.ZcK.LOCAL;default:throw Error("Invalid Aptos network name")}}async function D(t,e){if("function"in e){let n={function:e.function,functionArguments:e.arguments,typeArguments:e.type_arguments};return(0,i.yDq)({...n,aptosConfig:t})}throw Error("Payload type not supported")}var b="https://aptosconnect.app/dashboard/main-account";function P(t){return t.url.startsWith("https://aptosconnect.app")}function z(){return!!("undefined"!=typeof navigator&&navigator)&&/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)&&!function(){let t=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),e=/(Android).*Version\/[\d.]+.*Chrome\/[^\s]+ Mobile/i.test(navigator.userAgent);return t||e}()}function Q(t){return"object"==typeof t&&"message"in t?t.message:t}var O=t=>0!==t.length&&t.every(t=>t instanceof i.iVQ),U=t=>{if(!t)throw Error("Undefined network");return new i.ScN(B(t)?{network:W(t)}:{network:i.ZcK.CUSTOM,fullnode:t.url})},B=t=>{if(!t)throw Error("Undefined network");return void 0!==i.sAp[t.name]},R=async()=>{let t=new i.gZG;return await t.getChainId()},J="AptosWalletName",G=class extends o{async connect(t){return await t.connect()}async resolveSignAndSubmitTransaction(t,e,n,a){var s,o,l,c,u,d,w,h;if(O(t.functionArguments)){let u=U(e),d=function(t){let e=new r.Ce.Deserializer(t.bcsToBytes());return r.Kj.TransactionPayload.deserialize(e)}(await (0,i.yDq)({...t,aptosConfig:u}));return await this.signAndSubmitBCSTransaction(d,n,{max_gas_amount:(null==(s=a.options)?void 0:s.maxGasAmount)?BigInt(null==(o=a.options)?void 0:o.maxGasAmount):void 0,gas_unit_price:(null==(l=a.options)?void 0:l.gasUnitPrice)?BigInt(null==(c=a.options)?void 0:c.gasUnitPrice):void 0})}let g=function(t){var e,n;if("bytecode"in t)throw Error("script payload not supported");if("multisigAddress"in t){let n=null==(e=t.typeArguments)?void 0:e.map(t=>t instanceof i.O$S?t.toString():t);return{type:"multisig_payload",multisig_address:t.multisigAddress.toString(),function:t.function,type_arguments:n||[],arguments:t.functionArguments}}{let e=null==(n=t.typeArguments)?void 0:n.map(t=>t instanceof i.O$S?t.toString():t);return{type:"entry_function_payload",function:t.function,type_arguments:e||[],arguments:t.functionArguments}}}(t);return await this.signAndSubmitTransaction(g,n,{max_gas_amount:(null==(u=a.options)?void 0:u.maxGasAmount)?BigInt(null==(d=a.options)?void 0:d.maxGasAmount):void 0,gas_unit_price:(null==(w=a.options)?void 0:w.gasUnitPrice)?BigInt(null==(h=a.options)?void 0:h.gasUnitPrice):void 0})}async signAndSubmitTransaction(t,e,n){try{return await e.signAndSubmitTransaction(t,n)}catch(t){throw new x("object"==typeof t&&"message"in t?t.message:t).message}}async signAndSubmitBCSTransaction(t,e,n){if(!("signAndSubmitBCSTransaction"in e))throw new k("Submit a BCS Transaction is not supported by ".concat(e.name)).message;try{return await e.signAndSubmitBCSTransaction(t,n)}catch(t){throw new x("object"==typeof t&&"message"in t?t.message:t).message}}async signTransaction(t,e,n){try{return await e.signTransaction(t,n)}catch(t){throw new L("object"==typeof t&&"message"in t?t.message:t).message}}async signMessageAndVerify(t,e,n){try{let a=await e.signMessage(t);if(!a)throw new E("Failed to sign a message").message;console.log("signMessageAndVerify signMessage response",a);let s=!1;if(Array.isArray(a.signature)){let{fullMessage:t,signature:e,bitmap:r}=a;if(r){let a=n.minKeysRequired;if(e.length<a)s=!1;else{let a=Array.from(r).flatMap(t=>Array.from({length:8}).map((e,n)=>t>>n&1)),i=a.map((t,e)=>e).filter(t=>a[t]),o=n.publicKey.filter((t,e)=>i.includes(e));s=!0;for(let n=0;n<e.length;n++)if(!w.sign.detached.verify(d.lW.from(t),d.lW.from(e[n],"hex"),d.lW.from(o[n],"hex"))){s=!1;break}}}else throw new E("Failed to get a bitmap").message}else{let t=new r.i8(n.publicKey),e=new r.i8(a.signature);s=w.sign.detached.verify(d.lW.from(a.fullMessage),d.lW.from(e.noPrefix(),"hex"),d.lW.from(t.noPrefix(),"hex"))}return s}catch(t){throw new E(Q(t)).message}}},K=class{async connect(t){let e=await t.connect();if(e.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return e.args}async signAndSubmitTransaction(t,e,n,a,s){var r,i,o;try{let c=s.find(t=>a.name===t.name);if((null==(r=null==c?void 0:c.features["aptos:signAndSubmitTransaction"])?void 0:r.version)!=="1.1.0"){let s=await e.transaction.build.simple({sender:n.address.toString(),data:t.data,options:t.options}),r=await a.signAndSubmitTransaction(s);if(r.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return r.args}let u={gasUnitPrice:null==(i=t.options)?void 0:i.gasUnitPrice,maxGasAmount:null==(o=t.options)?void 0:o.maxGasAmount,payload:t.data},d=await a.signAndSubmitTransaction(u);if(d.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return d.args}catch(t){throw new x(Q(t)).message}}async signTransaction(t,e,n){let a=await e.signTransaction(t,n);if(a.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return a.args}async signMessage(t,e){try{let n=await e.signMessage(t);if(n.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return n.args}catch(t){throw new _(Q(t)).message}}async signMessageAndVerify(t,e){try{let n=await e.signMessage(t),a=await e.account();if(n.status===l.qk.REJECTED)throw new v("Failed to sign a message").message;let s=!1;if(n.args.signature instanceof i.e6E){if(!(a.publicKey instanceof i.ZSy))throw new E("Public key and Signature type mismatch").message;let{fullMessage:t,signature:e}=n.args;if(e.bitmap){let n=a.publicKey.threshold;s=!(e.signatures.length<n)&&a.publicKey.verifySignature({message:new TextEncoder().encode(t),signature:e})}}else s=a.publicKey.verifySignature({message:new TextEncoder().encode(n.args.fullMessage),signature:n.args.signature});return s}catch(t){throw new E(Q(t)).message}}},V=class{gtag(t,e,n){(window.dataLayer||[]).push(arguments)}injectGA(t){if(!t)return;let e=document.getElementsByTagName("head")[0];var n=document.createElement("script");n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(t));let a=this;n.onload=function(){a.gtag("js",new Date),a.gtag("config","".concat(t),{send_page_view:!1})},e.insertBefore(n,e.children[1])}constructor(){this.aptosGAID="G-GNVVWBL3J9",this.injectGA(this.aptosGAID)}},Y=[{name:"Nightly",url:"https://chromewebstore.google.com/detail/nightly/fiikommddbeccaoicoejoniammnalkfa?hl=en",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iV2Fyc3R3YV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDg1MS41IDg1MS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4NTEuNSA4NTEuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzYwNjdGOTt9DQoJLnN0MXtmaWxsOiNGN0Y3Rjc7fQ0KPC9zdHlsZT4NCjxnPg0KCTxnIGlkPSJXYXJzdHdhXzJfMDAwMDAwMTQ2MDk2NTQyNTMxODA5NDY0NjAwMDAwMDg2NDc4NTIwMDIxMTY5MTg2ODhfIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNCwwaDYwMy42YzY4LjUsMCwxMjQsNTUuNSwxMjQsMTI0djYwMy42YzAsNjguNS01NS41LDEyNC0xMjQsMTI0SDEyNGMtNjguNSwwLTEyNC01NS41LTEyNC0xMjRWMTI0DQoJCQlDMCw1NS41LDU1LjUsMCwxMjQsMHoiLz4NCgk8L2c+DQoJPGcgaWQ9IldhcnN0d2FfMyI+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MjMuNSwxNzAuM2MtMzcuNCw1Mi4yLTg0LjIsODguNC0xMzkuNSwxMTIuNmMtMTkuMi01LjMtMzguOS04LTU4LjMtNy44Yy0xOS40LTAuMi0zOS4xLDIuNi01OC4zLDcuOA0KCQkJYy01NS4zLTI0LjMtMTAyLjEtNjAuMy0xMzkuNS0xMTIuNmMtMTEuMywyOC40LTU0LjgsMTI2LjQtMi42LDI2My40YzAsMC0xNi43LDcxLjUsMTQsMTMyLjljMCwwLDQ0LjQtMjAuMSw3OS43LDguMg0KCQkJYzM2LjksMjkuOSwyNS4xLDU4LjcsNTEuMSw4My41YzIyLjQsMjIuOSw1NS43LDIyLjksNTUuNywyMi45czMzLjMsMCw1NS43LTIyLjhjMjYtMjQuNywxNC4zLTUzLjUsNTEuMS04My41DQoJCQljMzUuMi0yOC4zLDc5LjctOC4yLDc5LjctOC4yYzMwLjYtNjEuNCwxNC0xMzIuOSwxNC0xMzIuOUM2NzguMywyOTYuNyw2MzQuOSwxOTguNyw2MjMuNSwxNzAuM3ogTTI1My4xLDQxNC44DQoJCQljLTI4LjQtNTguMy0zNi4yLTEzOC4zLTE4LjMtMjAxLjVjMjMuNyw2MCw1NS45LDg2LjksOTQuMiwxMTUuM0MzMTIuOCwzNjIuMywyODIuMywzOTQuMSwyNTMuMSw0MTQuOHogTTMzNC44LDUxNy41DQoJCQljLTIyLjQtOS45LTI3LjEtMjkuNC0yNy4xLTI5LjRjMzAuNS0xOS4yLDc1LjQtNC41LDc2LjgsNDAuOUMzNjAuOSw1MTQuNywzNTMsNTI1LjQsMzM0LjgsNTE3LjV6IE00MjUuNyw2NzguNw0KCQkJYy0xNiwwLTI5LTExLjUtMjktMjUuNnMxMy0yNS42LDI5LTI1LjZzMjksMTEuNSwyOSwyNS42QzQ1NC43LDY2Ny4zLDQ0MS43LDY3OC43LDQyNS43LDY3OC43eiBNNTE2LjcsNTE3LjUNCgkJCWMtMTguMiw4LTI2LTIuOC00OS43LDExLjVjMS41LTQ1LjQsNDYuMi02MC4xLDc2LjgtNDAuOUM1NDMuOCw0ODgsNTM5LDUwNy42LDUxNi43LDUxNy41eiBNNTk4LjMsNDE0LjgNCgkJCWMtMjkuMS0yMC43LTU5LjctNTIuNC03Ni04Ni4yYzM4LjMtMjguNCw3MC42LTU1LjQsOTQuMi0xMTUuM0M2MzQuNiwyNzYuNSw2MjYuOCwzNTYuNiw1OTguMyw0MTQuOHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==",readyState:"NotDetected",isAIP62Standard:!0},{name:"Petra",url:"https://chromewebstore.google.com/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci?hl=en",icon:"data:image/png;base64,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",readyState:"NotDetected",isAIP62Standard:!0}],H=class extends o{initialize(){this.fetchExtensionAIP62AptosWallets(),this.fetchSDKAIP62AptosWallets(),this.scopePollingDetectionStrategy()}scopePollingDetectionStrategy(){var t;null==(t=this._wallets)||t.forEach(t=>{-1===this._standard_wallets.findIndex(e=>t.name===e.name)&&(this._all_wallets.push(t),t.readyState||(t.readyState="undefined"==typeof document?"Unsupported":"NotDetected"),function(t){if("undefined"==typeof document)return;let e=[];function n(){if(t())for(let t of e)t()}let a=setInterval(n,1e3);e.push(()=>clearInterval(a)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}(()=>{let e=t.providerName||t.name.toLowerCase();return!!Object.keys(window).includes(e)&&(t.readyState="Installed",t.provider=window[e],this.emit("readyStateChange",t),!0)}))})}fetchExtensionAIP62AptosWallets(){let{aptosWallets:t,on:e}=(0,l.Wk)();this.setExtensionAIP62Wallets(t);let n=this;e("register",function(){let{aptosWallets:t}=(0,l.Wk)();n.setExtensionAIP62Wallets(t)}),e("unregister",function(){let{aptosWallets:t}=(0,l.Wk)();n.setExtensionAIP62Wallets(t)})}appendNotDetectedStandardSupportedWallets(t){Y.map(e=>{if(-1!==this.wallets.findIndex(t=>t.name===e.name))return;let n=t.find(t=>t.name==e.name);!(n&&this.excludeWallet(n))&&(n||(this._all_wallets.push(e),this.emit("standardWalletsAdded",e)))})}fetchSDKAIP62AptosWallets(){this._sdkWallets.map(t=>{this.standardizeAIP62WalletType(t)})}setExtensionAIP62Wallets(t){let e=t.filter(t=>"Dev T wallet"!==t.name&&"T wallet"!==t.name),n=[];e.map(t=>{this.standardizeAIP62WalletType(t),n.push(t)}),this.appendNotDetectedStandardSupportedWallets(n)}standardizeAIP62WalletType(t){!this.excludeWallet(t)&&(0,l.cE)(t)&&(t.readyState="Installed",this.standardizeStandardWalletToPluginWalletType(t),this._standard_wallets.push(t))}excludeWallet(t){return"Continue with Google"!==t.name&&this._optInWallets.length>0&&!this._optInWallets.includes(t.name)}recordEvent(t,e){var n,a,s;this.ga4.gtag("event","wallet_adapter_".concat(t),{wallet:null==(n=this._wallet)?void 0:n.name,network:null==(a=this._network)?void 0:a.name,network_url:null==(s=this._network)?void 0:s.url,adapter_core_version:h,send_to:"G-GNVVWBL3J9",...e})}ensureWalletExists(t){if(!t)throw new I().name;if(!("Loadable"===t.readyState||"Installed"===t.readyState))throw new p("Wallet is not set").name}ensureAccountExists(t){if(!t)throw new N("Account is not set").name}doesWalletExist(){if(!this._connected||this._connecting||!this._wallet)throw new I().name;if(!("Loadable"===this._wallet.readyState||"Installed"===this._wallet.readyState))throw new p().name;return!0}clearData(){this._connected=!1,this.setWallet(null),this.setAccount(null),this.setNetwork(null),localStorage.removeItem(J)}async setAnsName(){var t;if((null==(t=this._network)?void 0:t.chainId)&&this._account){if(!A[this._network.chainId]||!B(this._network)){this._account.ansName=void 0;return}let t=new i.ScN({network:W(this._network)}),e=new i.gZG(t),n=await e.ans.getPrimaryName({address:this._account.address.toString()});this._account.ansName=n}}setWallet(t){this._wallet=t}setAccount(t){var e;if(null===t){this._account=null;return}if(null==(e=this._wallet)?void 0:e.isAIP62Standard){if("status"in t){if(t.status===l.qk.REJECTED)throw this._connecting=!1,new v("User has rejected the request").message;this._account={address:t.args.address.toString(),publicKey:t.args.publicKey.toString(),ansName:t.args.ansName};return}this._account={address:t.address.toString(),publicKey:t.publicKey.toString(),ansName:t.ansName};return}this._account={...t}}setNetwork(t){var e,n,a;if(null===t){this._network=null;return}if(null==(e=this._wallet)?void 0:e.isAIP62Standard){this.recordEvent("network_change",{from:null==(n=this._network)?void 0:n.name,to:t.name}),this._network={name:t.name.toLowerCase(),chainId:t.chainId.toString(),url:t.url};return}this.recordEvent("network_change",{from:null==(a=this._network)?void 0:a.name,to:t.name}),this._network={...t,name:t.name.toLowerCase()}}isConnected(){return this._connected}get wallets(){return this._all_wallets}get pluginWallets(){return this._wallets}get standardWallets(){return this._standard_wallets}get wallet(){try{if(!this._wallet)return null;return{name:this._wallet.name,icon:this._wallet.icon,url:this._wallet.url}}catch(t){throw new y(t).message}}get account(){try{return this._account}catch(t){throw new N(t).message}}get network(){try{return this._network}catch(t){throw new M(t).message}}async connect(t){var e;let n=this._all_wallets.find(e=>e.name===t);if(n){if(this._connected&&(null==(e=this._wallet)?void 0:e.name)===t)throw new v("".concat(t," wallet is already connected")).message;if(z()&&"Installed"!==n.readyState){if(n.isAIP62Standard&&n.openInMobileApp){n.openInMobileApp();return}if(n.deeplinkProvider){let t=encodeURIComponent(window.location.href),e=n.deeplinkProvider({url:t});window.location.href=e}return}if("Installed"!==n.readyState&&"Loadable"!==n.readyState)return;await this.connectWallet(n)}}async connectWallet(t){try{var e;let n;this._connecting=!0,this.setWallet(t),n=t.isAIP62Standard?await this.walletStandardCore.connect(t):await this.walletCoreV1.connect(t),this.setAccount(n);let a=await t.network();this.setNetwork(a),await this.setAnsName(),e=t.name,localStorage.setItem(J,e),this._connected=!0,this.recordEvent("wallet_connect"),this.emit("connect",n)}catch(t){throw this.clearData(),new v(Q(t)).message}finally{this._connecting=!1}}async disconnect(){try{this.ensureWalletExists(this._wallet),await this._wallet.disconnect(),this.clearData(),this.recordEvent("wallet_disconnect"),this.emit("disconnect")}catch(t){throw new S(Q(t)).message}}async signAndSubmitTransaction(t){try{if("function"in t.data&&"0x1::account::rotate_authentication_key_call"===t.data.function)throw new x("SCAM SITE DETECTED").message;this.ensureWalletExists(this._wallet),this.ensureAccountExists(this._account),this.recordEvent("sign_and_submit_transaction");let e=t.data,n=U(this._network),a=new i.gZG(n);if(this._wallet.signAndSubmitTransaction){if(this._wallet.isAIP62Standard){let{hash:e,...n}=await this.walletStandardCore.signAndSubmitTransaction(t,a,this._account,this._wallet,this._standard_wallets);return{hash:e,output:n}}{let{hash:n,...a}=await this.walletCoreV1.resolveSignAndSubmitTransaction(e,this._network,this._wallet,t);return{hash:n,output:a}}}let s=await a.transaction.build.simple({sender:this._account.address,data:t.data,options:t.options}),r=await this.signTransaction(s);return await this.submitTransaction({transaction:s,senderAuthenticator:r})}catch(t){throw new x(Q(t)).message}}async signTransaction(t,e,n){var a,s,o,l;try{if(this.ensureWalletExists(this._wallet),this.recordEvent("sign_transaction"),this._wallet.signTransaction){if(this._wallet.isAIP62Standard){if("rawTransaction"in t)return await this.walletStandardCore.signTransaction(t,this._wallet,e);{let e=U(this._network);this.ensureAccountExists(this._account);let r=this._account.address,l=await D(e,t),c={accountSequenceNumber:null==n?void 0:n.sequenceNumber,expireTimestamp:null!=(a=null==n?void 0:n.expireTimestamp)?a:null==n?void 0:n.expirationTimestamp,gasUnitPrice:null!=(s=null==n?void 0:n.gasUnitPrice)?s:null==n?void 0:n.gas_unit_price,maxGasAmount:null!=(o=null==n?void 0:n.maxGasAmount)?o:null==n?void 0:n.max_gas_amount},u=await (0,i.VPS)({aptosConfig:e,payload:l,sender:r,options:c});return await this.walletStandardCore.signTransaction(new i._tO(u),this._wallet,!1)}}if("rawTransaction"in t)return await this._wallet.signTransaction(t,e);{let e=await this.walletCoreV1.signTransaction(t,this._wallet,{max_gas_amount:(null==n?void 0:n.maxGasAmount)?BigInt(null==n?void 0:n.maxGasAmount):void 0,gas_unit_price:(null==n?void 0:n.gasUnitPrice)?BigInt(null==n?void 0:n.gasUnitPrice):void 0});if(!e)throw Error("error");let a=new r.Ce.Deserializer(e),s=r.Kj.SignedTransaction.deserialize(a).authenticator,o=s.public_key.value,l=s.signature.value;return new i.rEE(new i.EZS(o),new i.AoU(l))}}throw new k("Sign Transaction is not supported by ".concat(null==(l=this.wallet)?void 0:l.name)).message}catch(t){throw new L(Q(t)).message}}async signMessage(t){try{if(this.ensureWalletExists(this._wallet),this.recordEvent("sign_message"),this._wallet.isAIP62Standard)return await this.walletStandardCore.signMessage(t,this._wallet);return await this._wallet.signMessage(t)}catch(t){throw new _(Q(t)).message}}async submitTransaction(t){try{this.ensureWalletExists(this._wallet);let{additionalSignersAuthenticators:e}=t;if(this.recordEvent("submit_transaction",{transaction_type:void 0!==e?"multi-agent":"simple"}),this._wallet.submitTransaction)return await this._wallet.submitTransaction(t);let n=new i.ScN({network:W(this.network)}),a=new i.gZG(n);if(void 0===e)return a.transaction.submit.simple(t);{let n={...t,additionalSignersAuthenticators:e};return a.transaction.submit.multiAgent(n)}}catch(t){throw new L(Q(t)).message}}async onAccountChange(){try{this.ensureWalletExists(this._wallet),await this._wallet.onAccountChange(async t=>{this.setAccount(t),await this.setAnsName(),this.recordEvent("account_change"),this.emit("accountChange",this._account)})}catch(t){throw new C(Q(t)).message}}async onNetworkChange(){try{this.ensureWalletExists(this._wallet),await this._wallet.onNetworkChange(async t=>{this.setNetwork(t),await this.setAnsName(),this.emit("networkChange",this._network)})}catch(t){throw new T(Q(t)).message}}async changeNetwork(t){var e;try{this.ensureWalletExists(this._wallet),this.recordEvent("change_network_request",{from:null==(e=this._network)?void 0:e.name,to:t});let n=t===i.ZcK.DEVNET?await R():i.mdu[t];if(this._wallet.changeNetwork){let e=await this._wallet.changeNetwork({name:t,chainId:n});if(e.status===l.qk.REJECTED)throw new v("User has rejected the request").message;return e.args}throw new j("".concat(this._wallet.name," does not support changing network request")).message}catch(t){throw new j(Q(t)).message}}async signMessageAndVerify(t){try{if(this.ensureWalletExists(this._wallet),this.ensureAccountExists(this._account),this.recordEvent("sign_message_and_verify"),console.log("this._wallet.isAIP62Standard",this._wallet.isAIP62Standard),this._wallet.isAIP62Standard)return this.walletStandardCore.signMessageAndVerify(t,this._wallet);return await this.walletCoreV1.signMessageAndVerify(t,this._wallet,this._account)}catch(t){throw new E(Q(t)).message}}constructor(t,e,n){super(),this._wallets=[],this._optInWallets=[],this._standard_wallets=[],this._all_wallets=[],this._wallet=null,this._account=null,this._network=null,this.walletCoreV1=new G,this.walletStandardCore=new K,this._connecting=!1,this._connected=!1,this.ga4=new V,this.standardizeStandardWalletToPluginWalletType=t=>{var e,n,a;let s={name:t.name,url:t.url,icon:t.icon,provider:t,connect:t.features["aptos:connect"].connect,disconnect:t.features["aptos:disconnect"].disconnect,network:t.features["aptos:network"].network,account:t.features["aptos:account"].account,signAndSubmitTransaction:null==(e=t.features["aptos:signAndSubmitTransaction"])?void 0:e.signAndSubmitTransaction,signMessage:t.features["aptos:signMessage"].signMessage,onAccountChange:t.features["aptos:onAccountChange"].onAccountChange,onNetworkChange:t.features["aptos:onNetworkChange"].onNetworkChange,signTransaction:t.features["aptos:signTransaction"].signTransaction,openInMobileApp:null==(n=t.features["aptos:openInMobileApp"])?void 0:n.openInMobileApp,changeNetwork:null==(a=t.features["aptos:changeNetwork"])?void 0:a.changeNetwork,readyState:"Installed",isAIP62Standard:!0};this._all_wallets=this._all_wallets.filter(t=>t.name!==s.name),this._all_wallets.push(s),this.emit("standardWalletsAdded",s)},this._wallets=t,this._optInWallets=e,this._dappConfig=n,this._sdkWallets=function(t){let e=[];return(null==t?void 0:t.network)===i.ZcK.MAINNET?e.push(new c.kJ):e.push(new c.f1),e.push(new u.ux({network:null==t?void 0:t.network})),e}(this._dappConfig)}};window.WALLET_ADAPTER_CORE_VERSION=h},14563:function(t,e,n){"use strict";n.d(e,{Ay:function(){return f},FP:function(){return N},Jd:function(){return y},O8:function(){return v},Os:function(){return l},Tt:function(){return a.Tt},Z3:function(){return m},cU:function(){return a.cU},cX:function(){return a.cX},i1:function(){return a.i1},od:function(){return a.od},vV:function(){return S}});var a=n(66802),s=n(27294),r=n(73473),i=n(3894),o=(0,r.createContext)({connected:!1});function l(){let t=(0,r.useContext)(o);if(!t)throw Error("useWallet must be used within a WalletContextState");return t}var c=(0,r.createContext)(null),u=(0,r.forwardRef)((t,e)=>{let{wallet:n,onConnect:o,className:u,asChild:d,children:w}=t,{connect:h}=l(),g=(0,r.useCallback)(()=>{h(n.name),null==o||o()},[h,n.name,o]),m=n.readyState===a.i1.Installed||n.readyState===a.i1.Loadable,A="deeplinkProvider"in n&&n.deeplinkProvider;if(!m&&(0,a.cX)()&&!A)return null;let f=d?s.g7:"div";return(0,i.jsx)(c.Provider,{value:{wallet:n,connectWallet:g},children:(0,i.jsx)(f,{ref:e,className:u,children:w})})});u.displayName="WalletItem";var d=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.Icon` must be used within `WalletItem`");let u=a?s.g7:"img";return(0,i.jsx)(u,{ref:e,src:l.wallet.icon,alt:"".concat(l.wallet.name," icon"),className:n,children:o})});d.displayName="WalletItem.Icon";var w=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.Name` must be used within `WalletItem`");let u=a?s.g7:"div";return(0,i.jsx)(u,{ref:e,className:n,children:null!=o?o:l.wallet.name})});w.displayName="WalletItem.Name";var h=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.ConnectButton` must be used within `WalletItem`");let u=a?s.g7:"button";return(0,i.jsx)(u,{ref:e,className:n,onClick:l.connectWallet,children:null!=o?o:"Connect"})});h.displayName="WalletItem.ConnectButton";var g=(0,r.forwardRef)((t,e)=>{let{className:n,asChild:a,children:o}=t,l=(0,r.useContext)(c);if(!l)throw Error("`WalletItem.InstallLink` must be used within `WalletItem`");let u=a?s.g7:"a";return(0,i.jsx)(u,{ref:e,className:n,href:l.wallet.url,target:"_blank",rel:"noopener noreferrer",children:null!=o?o:"Install"})});g.displayName="WalletItem.InstallLink";var m=Object.assign(u,{Icon:d,Name:w,ConnectButton:h,InstallLink:g}),A={connected:!1,account:null,network:null,wallet:null},f=t=>{let{children:e,plugins:n,optInWallets:s,autoConnect:l=!1,dappConfig:c,onError:u}=t,[{connected:d,account:w,network:h,wallet:g},m]=(0,r.useState)(A),[f,y]=(0,r.useState)(!0),[p,v]=(0,r.useState)([]),S=(0,r.useRef)(),N=t=>{let e=p.findIndex(e=>e.name==t.name);-1!==e?v(n=>[...n.slice(0,e),t,...n.slice(e+1)]):v(e=>[...e,t])},M=()=>{m(t=>{var e,n,a;return{...t,connected:!0,account:(null==(e=null==S?void 0:S.current)?void 0:e.account)||null,network:(null==(n=null==S?void 0:S.current)?void 0:n.network)||null,wallet:(null==(a=null==S?void 0:S.current)?void 0:a.wallet)||null}})},C=()=>{d&&m(t=>{var e,n;return{...t,connected:!1,account:(null==(e=null==S?void 0:S.current)?void 0:e.account)||null,network:(null==(n=null==S?void 0:S.current)?void 0:n.network)||null,wallet:null}})},T=(0,r.useCallback)(()=>{var t;d&&(null==(t=null==S?void 0:S.current)?void 0:t.wallet)&&m(t=>{var e;return{...t,account:(null==(e=null==S?void 0:S.current)?void 0:e.account)||null}})},[d]),I=(0,r.useCallback)(()=>{var t;d&&(null==(t=null==S?void 0:S.current)?void 0:t.wallet)&&m(t=>{var e;return{...t,network:(null==(e=null==S?void 0:S.current)?void 0:e.network)||null}})},[d]),_=t=>{v(null==p?void 0:p.map(e=>e.name===t.name?{...e,readyState:t.readyState}:e))};(0,r.useEffect)(()=>{let t=new a.V8(null!=n?n:[],null!=s?s:[],c);return S.current=t,t.on("standardWalletsAdded",N),t.on("readyStateChange",_),t.initialize(),()=>{t.off("standardWalletsAdded",N),t.off("readyStateChange",_)}},[]),(0,r.useEffect)(()=>{var t;(null==S?void 0:S.current)&&v(null==(t=null==S?void 0:S.current)?void 0:t.wallets)},[S]),(0,r.useEffect)(()=>{var t,e,n,a;return null==(t=null==S?void 0:S.current)||t.on("connect",M),null==(e=null==S?void 0:S.current)||e.on("disconnect",C),null==(n=null==S?void 0:S.current)||n.on("accountChange",T),null==(a=null==S?void 0:S.current)||a.on("networkChange",I),()=>{var t,e,n,a;null==(t=null==S?void 0:S.current)||t.off("connect",M),null==(e=null==S?void 0:S.current)||e.off("disconnect",C),null==(n=null==S?void 0:S.current)||n.off("accountChange",T),null==(a=null==S?void 0:S.current)||a.off("networkChange",I)}},[p,d]);let E=async t=>{var e;try{y(!0),await (null==(e=null==S?void 0:S.current)?void 0:e.connect(t))}catch(t){return u&&u(t),Promise.reject(t)}finally{y(!1)}},x=async()=>{var t;try{await (null==(t=null==S?void 0:S.current)?void 0:t.disconnect())}catch(t){return u&&u(t),Promise.reject(t)}},L=async(t,e,n)=>{var a;try{if(!S.current)throw Error("WalletCore is not initialized");return await (null==(a=null==S?void 0:S.current)?void 0:a.signTransaction(t,e,n))}catch(t){return u&&u(t),Promise.reject(t)}},k=async t=>{var e;try{if(!S.current)throw Error("WalletCore is not initialized");return await (null==(e=null==S?void 0:S.current)?void 0:e.signMessage(t))}catch(t){return u&&u(t),Promise.reject(t)}},j=async t=>{var e;try{if(!S.current)throw Error("WalletCore is not initialized");return await (null==(e=null==S?void 0:S.current)?void 0:e.signMessageAndVerify(t))}catch(t){return u&&u(t),Promise.reject(t)}},W=async t=>{var e;try{if(!S.current)throw Error("WalletCore is not initialized");return await (null==(e=null==S?void 0:S.current)?void 0:e.submitTransaction(t))}catch(t){return u&&u(t),Promise.reject(t)}},D=async t=>{var e;try{return console.log("walletCoreRef?.current?",null==S?void 0:S.current),await (null==(e=null==S?void 0:S.current)?void 0:e.signAndSubmitTransaction(t))}catch(t){return u&&u(t),Promise.reject(t)}},b=async t=>{var e;try{if(!S.current)throw Error("WalletCore is not initialized");return await (null==(e=null==S?void 0:S.current)?void 0:e.changeNetwork(t))}catch(t){return u&&u(t),Promise.reject(t)}};return(0,r.useEffect)(()=>{l&&(localStorage.getItem("AptosWalletName")&&!d?E(localStorage.getItem("AptosWalletName")):y(!1))},[l,p]),(0,r.useEffect)(()=>{var t,e;d&&(null==(t=null==S?void 0:S.current)||t.onAccountChange(),null==(e=null==S?void 0:S.current)||e.onNetworkChange())},[d]),(0,i.jsx)(o.Provider,{value:{connect:E,account:w,network:h,connected:d,disconnect:x,wallet:g,wallets:p,signAndSubmitTransaction:D,signTransaction:L,signMessage:k,signMessageAndVerify:j,isLoading:f,submitTransaction:W,changeNetwork:b},children:e})};function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=[],a=[];for(let s of t)e(s)?n.push(s):a.push(s);return{defaultWallets:n,moreWallets:a}}function p(t){return t.readyState===a.i1.Installed||t.readyState===a.i1.Loadable}function v(t){let{defaultWallets:e,moreWallets:n}=y(t,t=>t.url.includes("aptosconnect.app"));return{aptosConnectWallets:e,otherWallets:n}}function S(t){let e=p(t);return!(!e&&(0,a.cX)())&&!e}function N(t){if(t)return"".concat(t.slice(0,6),"...").concat(t.slice(-5))}}}]);